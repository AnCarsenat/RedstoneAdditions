execute as @e[type=item,nbt={Item:{components:{"minecraft:custom_data":{reactor:true}}}}] at @s if block ~ ~ ~ piston_head if block ~ ~-1 ~ smithing_table if entity @e[type=item,nbt={Item:{components:{"minecraft:custom_data":{mineral_core:true}}}},distance=..1.5] run tag @e[type=item,limit=2,sort=nearest,distance=..1] add redstone_additions.mineral_reactor_craft
execute at @e[sort=random,limit=1,tag=redstone_additions.mineral_reactor_craft] run summon item ~ ~ ~ {Item:{id:"minecraft:item_frame",Count:1b,components:{"minecraft:item_model":"minecraft:dispenser","minecraft:item_name":'[{"text":"mineral_reactor"}]',"minecraft:custom_data":{"mineral_reactor":true},"minecraft:entity_data":{id:"item_frame",Tags:['reddition.blocks.block_place.mineral_reactor', 'reddition.blocks', 'reddition.has_cooldown']}}}}
execute at @e[sort=random,limit=1,tag=redstone_additions.mineral_reactor_craft] run playsound minecraft:block.anvil.land ambient @a[distance=..40] ~ ~ ~ 5 1
kill @e[tag=redstone_additions.mineral_reactor_craft]